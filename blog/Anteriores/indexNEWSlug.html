<script>
        const SPACE_ID = 'xmg0akvdqvvq';
        const ACCESS_TOKEN = 'V6LkMPlQkDJsyYQGxHsKA3SeBfaLSboOicXdhoborWQ'; 

        const client = contentful.createClient({
            space: SPACE_ID,
            accessToken: ACCESS_TOKEN,
        });

        const postsContainer = document.getElementById('posts-container');

        async function fetchAndDisplayPosts() {
            try {
                const response = await client.getEntries({ content_type: 'blogPost' });

                if (response.items.length === 0) {
                    postsContainer.innerHTML = '<p class="text-center col-span-full">No hay artículos publicados.</p>';
                    return;
                }

                postsContainer.innerHTML = response.items.map(item => {
                    // ✅ CORRECCIÓN AQUÍ: Cambiamos "título" por "titulo"
                    const { titulo, slug, resumen, imagenDestacada } = item.fields;
                    const imageUrl = imagenDestacada?.fields?.file?.url ? `https:${imagenDestacada.fields.file.url}` : 'https://via.placeholder.com/400x300.png?text=Imagen';
                    const postLink = `${slug}.html`; 

                    return `
                        <div class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col">
                            <a href="${postLink}">
                                <img class="h-56 w-full object-cover" src="${imageUrl}" alt="${titulo}">
                            </a>
                            <div class="p-6 flex-grow">
                                <h2 class="font-bold text-xl text-pestoff-dark mb-2">${titulo}</h2>
                                <p class="text-gray-700 text-base">${resumen}</p>
                            </div>
                            <div class="p-6 pt-0">
                                <a href="${postLink}" class="font-semibold text-pestoff-teal hover:underline">Leer Más &rarr;</a>
                            </div>
                        </div>
                    `;
                }).join('');

            } catch (error) {
                console.error('Error al obtener los datos de Contentful:', error);
                postsContainer.innerHTML = '<p class="text-center col-span-full text-red-500">Error al cargar los artículos.</p>';
            }
        }

        fetchAndDisplayPosts();
    </script>